import{r as d,j as h,W as S,w as C}from"./index-DtwSxASm.js";import{c as i}from"./classNames-ePRZs5sB.js";import{u as z}from"./useControllableState-CPNazxRZ.js";const k=d.createContext({}),E=k.Provider;k.Consumer;function N(){return d.useContext(k)}const j=r=>{const{children:o,className:y,defaultValue:u,onChange:b=()=>{},ref:a,selectionType:s="single",size:p,value:f,...n}=r,[e,l]=z({prop:f,defaultProp:u,onChange:b}),v=c=>{l(c)},m=c=>{s==="single"&&l(""),s==="multiple"&&l((x=[])=>x.filter(t=>t!==c))},g=d.useMemo(()=>{if(s==="single")return e&&typeof e=="string"?[e]:e&&Array.isArray(e)?e:[];if(s==="multiple")return e||[]},[s,e]);return h.jsx(E,{value:{value:g,onActive:v,onDeactivate:m,selectionType:s,size:p},children:h.jsx("div",{ref:a,className:i("segment","gap-2 bg-gray-100 dark:bg-gray-700",y),...n,children:o})})},I=r=>Array.isArray(r)?r[0]:r,P=r=>{const{children:o,className:y,disabled:u=!1,ref:b,value:a,size:s,...p}=r,{value:f,onActive:n,onDeactivate:e,selectionType:l,size:v}=N(),m=f.includes(a),g=s||v,c=d.useCallback(()=>{let t="";switch(g){case C.LG:t=i(S.lg.h,"md:px-8 py-2 px-4 text-base");break;case C.SM:t=i(S.sm.h,"px-3 py-2 text-sm");break;case C.XS:t=i(S.xs.h,"px-3 py-1 text-xs");break;default:t=i(S.md.h,"px-5 py-2");break}return t},[g]),x=()=>{if(!u){if(m)l==="multiple"&&(e==null||e(a));else if(l==="single"&&(n==null||n(a)),l==="multiple"){const t=[...f,a];n==null||n(t)}}};return typeof o=="function"?I(o)({active:m,onSegmentItemClick:x,disabled:u,value:a,...p}):h.jsx("button",{ref:b,className:i("segment-item",c(),m&&"segment-item-active",u&&"segment-item-disabled",y),onClick:x,...p,children:o})},V=j;V.Item=P;export{V as S};
