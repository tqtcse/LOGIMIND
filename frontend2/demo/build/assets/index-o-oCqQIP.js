import{r as i,n as y,j as e}from"./index-DtwSxASm.js";import{T as z}from"./Tooltip-rsOlGEfv.js";const W=(...n)=>r=>{n.forEach(a=>{typeof a=="function"?a(r):a&&typeof a=="object"&&(a.current=r)})},$=n=>{const{alt:r,className:a,icon:l,ref:u=null,shape:c="circle",size:t="md",src:p,srcSet:g,...v}=n;let{children:s}=n;const[x,h]=i.useState(1),o=i.useRef(null),d=i.useRef(null),N=W(u,d),C=()=>{if(!o.current||!d.current)return;const f=o.current.offsetWidth,m=d.current.offsetWidth;f===0||m===0||h(m-8<f?(m-8)/f:1)};i.useEffect(()=>{C()},[x,s]);const S=typeof t=="number"?{width:t,height:t,minWidth:t,lineHeight:`${t}px`,fontSize:l?t/2:12}:{},A=y("avatar",`avatar-${c}`,typeof t=="string"?`avatar-${t}`:"",a);if(p)s=e.jsx("img",{className:`avatar-img avatar-${c}`,src:p,srcSet:g,alt:r,loading:"lazy"});else if(l)s=e.jsx("span",{className:y("avatar-icon",`avatar-icon-${t}`),children:l});else{const f=typeof t=="number"?{lineHeight:`${t}px`}:{},m={transform:`translateX(-50%) scale(${x})`};s=e.jsx("span",{ref:o,className:`avatar-string ${typeof t=="number"?"":`avatar-inner-${t}`}`,style:{...f,...m,...typeof t=="number"?{height:t}:{}},children:s})}return e.jsx("span",{ref:N,className:A,style:{...S,...v.style},...v,children:s})},j=({children:n,chained:r,className:a})=>e.jsx("div",{className:y("avatar-group",r&&"avatar-group-chained",a),children:n}),b=n=>{const{chained:r=!1,children:a,className:l,maxCount:u=4,onOmittedAvatarClick:c,omittedAvatarContent:t,omittedAvatarProps:p,omittedAvatarTooltip:g=!1,omittedAvatarTooltipProps:v}=n,s=i.Children.count(a),x=i.Children.toArray(a).map((h,o)=>i.cloneElement(h,{key:`grouped-avatar-${o}`}));if(u&&u<s){const h=x.slice(0,u),o=s-u,d=e.jsx($,{className:c?"cursor-pointer":"",onClick:()=>c==null?void 0:c(),...p,children:t||`+${o}`});return h.push(g?e.jsx(z,{title:`${o} More`,...v,children:e.jsx(e.Fragment,{children:d})},"avatar-more-tooltip"):e.jsx(i.Fragment,{children:d},"avatar-more-tooltip")),e.jsx(j,{className:l,chained:r,children:h})}return e.jsx(j,{className:l,chained:r,children:a})},E=$;E.Group=b;export{E as A,W as u};
