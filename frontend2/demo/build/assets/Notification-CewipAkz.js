import{r as c,j as e,c as A,B,n as x,x as R}from"./index-DtwSxASm.js";import{w as S}from"./SidePanel-DJJ4hvif.js";import{D as h}from"./index-CxwhLVJW.js";import{u as H,S as T}from"./useResponsive-DY1IWvVa.js";import{B as j}from"./Badge-BVATVzPT.js";import{B as p}from"./Button-i5g00eBi.js";import{T as D}from"./Tooltip-rsOlGEfv.js";import{A as d}from"./index-o-oCqQIP.js";import{l as L,m as O,n as $,o as M}from"./index-CHU72eNV.js";import{a as f}from"./index-nzjHbTAU.js";import{i as I}from"./isLastChild-BgvHfb_g.js";function P(a=""){const s=a.match(/\b(\w)/g);return s?s.join(""):a}const b=["bg-indigo-200 dark:bg-indigo-200","bg-emerald-200 dark:bg-emerald-200","bg-cyan-200 dark:bg-cyan-200","bg-blue-200 dark:bg-blue-200","bg-teal-200 dark:bg-teal-200","bg-fuchsia-200 dark:bg-fuchsia-200","bg-pink-200 dark:bg-pink-200","bg-rose-200 dark:bg-rose-200","bg-red-200 dark:bg-red-200","bg-amber-200 dark:bg-amber-200","bg-violet-200  dark:bg-violet-200","bg-purple-200 dark:bg-purple-200"];function U(){const a=i=>{let n=0;for(let r=0;r<i.length;r++){const g=i.charCodeAt(r);n+=g}return n};return c.useCallback(i=>{const r=a(i)%b.length;return b[r]},[])}const z="/img/avatars/",E=({target:a})=>{const s=U();return e.jsx(d,{shape:"circle",className:`text-gray-900 ${s(a)}`,children:P(a)})},V=a=>{const{type:s,target:i,image:n,status:r}=a;switch(s){case 0:return n?e.jsx(d,{shape:"circle",src:`${z}${n}`}):e.jsx(E,{target:i});case 1:return e.jsx(d,{shape:"circle",className:"bg-sky-200 text-gray-900",icon:e.jsx($,{})});case 2:return e.jsx(d,{shape:"circle",className:r==="succeed"?"bg-emerald-200 text-gray-900":"bg-red-200 text-gray-900",icon:r==="succeed"?e.jsx(L,{}):e.jsx(O,{})});default:return e.jsx(d,{})}},G=({className:a,dot:s})=>e.jsx("div",{className:A("text-2xl",a),children:s?e.jsx(j,{badgeStyle:{top:"3px",right:"6px"},children:e.jsx(f,{})}):e.jsx(f,{})}),u="h-[280px]",_=({className:a})=>{const[s,i]=c.useState([]),[n,r]=c.useState(!1),[g,q]=c.useState(!1),[N,F]=c.useState(!1),{larger:v}=H(),y=B(),k=()=>{const t=s.map(o=>(o.readed||(o.readed=!0),o));i(t),r(!1)},C=t=>{const o=s.map(l=>(l.id===t&&(l.readed=!0),l));i(o),s.some(l=>!l.readed)||r(!1)},m=c.useRef(null),w=()=>{y("/concepts/account/activity-log"),m.current&&m.current.handleDropdownClose()};return e.jsxs(h,{ref:m,renderTitle:e.jsx(G,{dot:n,className:a}),menuClass:"min-w-[280px] md:min-w-[340px]",placement:v.md?"bottom-end":"bottom",children:[e.jsx(h.Item,{variant:"header",children:e.jsxs("div",{className:"dark:border-gray-700 px-2 flex items-center justify-between mb-1",children:[e.jsx("h6",{children:"Notifications"}),e.jsx(D,{title:"Mark all as read",children:e.jsx(p,{variant:"plain",shape:"circle",size:"sm",icon:e.jsx(M,{className:"text-xl"}),onClick:k})})]})}),e.jsxs(T,{className:x("overflow-y-auto",u),children:[s.length>0&&s.map((t,o)=>e.jsxs("div",{children:[e.jsxs("div",{className:"relative rounded-xl flex px-4 py-3 cursor-pointer hover:bg-gray-100 active:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>C(t.id),children:[e.jsx("div",{children:e.jsx(V,{...t})}),e.jsxs("div",{className:"mx-3",children:[e.jsxs("div",{children:[t.target&&e.jsxs("span",{className:"font-semibold heading-text",children:[t.target," "]}),e.jsx("span",{children:t.description})]}),e.jsx("span",{className:"text-xs",children:t.date})]}),e.jsx(j,{className:"absolute top-4 ltr:right-4 rtl:left-4 mt-1.5",innerClass:`${t.readed?"bg-gray-300 dark:bg-gray-600":"bg-primary"} `})]}),I(s,o)?"":e.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 my-2"})]},t.id)),N&&e.jsx("div",{className:x("flex items-center justify-center",u),children:e.jsx(R,{size:40})}),g&&s.length===0&&e.jsx("div",{className:x("flex items-center justify-center",u),children:e.jsxs("div",{className:"text-center",children:[e.jsx("img",{className:"mx-auto mb-2 max-w-[150px]",src:"/img/others/no-notification.png",alt:"no-notification"}),e.jsx("h6",{className:"font-semibold",children:"No notifications!"}),e.jsx("p",{className:"mt-1",children:"Please Try again later"})]})})]}),e.jsx(h.Item,{variant:"header",children:e.jsx("div",{className:"pt-4",children:e.jsx(p,{block:!0,variant:"solid",onClick:w,children:"View All Activity"})})})]})},ie=S(_);export{ie as N};
