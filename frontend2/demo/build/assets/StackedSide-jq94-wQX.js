import{r as k,F as x,j as e,e as v,H as A,f as M,c as D,I as T,J as E,u as g,b as R,K as w,M as H,N as L,O as V}from"./index-DtwSxASm.js";import{M as N}from"./index-DOVB_R_x.js";import{S as I,u as C}from"./useResponsive-DY1IWvVa.js";import{u as O,A as $,n as K,V as F,a as P}from"./VerticalMenuContent-CUFtnFE0.js";import{N as U,n as Y}from"./index-CjgVxIQo.js";import{h as B,i as W}from"./index-CHU72eNV.js";import{H as G,U as J,M as q}from"./UserProfileDropdown-Is-zzsbQ.js";import{N as z}from"./Notification-CewipAkz.js";import{S as Q}from"./SidePanel-DJJ4hvif.js";import{L as X}from"./LayoutBase-DRRnhBCg.js";import"./index-BDJeHqko.js";import"./index-nzjHbTAU.js";import"./index-DYfuKO4A.js";import"./proxy-CApU-jHi.js";import"./debounce-DWiTLIjT.js";import"./isSymbol-CwBCR2h3.js";import"./Tooltip-rsOlGEfv.js";import"./index-_Kd8pdCn.js";import"./floating-ui.dom-DBm5Idhu.js";import"./isNil-BVBaoyN1.js";import"./index-DmDgKben.js";import"./index-CxwhLVJW.js";import"./uniqueId-DQxOizSh.js";import"./classNames-ePRZs5sB.js";import"./_getPrototype-m6aH4G2r.js";import"./Card-CvsXYMKX.js";import"./Drawer-h8jojt0N.js";import"./index-DwHWSaNy.js";import"./index-Chjiymov.js";import"./CloseButton-C-zx-kDW.js";import"./NavToggle-H_PLfnX3.js";import"./index-BjgA-DNM.js";import"./index-o-oCqQIP.js";import"./Badge-BVATVzPT.js";import"./Button-i5g00eBi.js";import"./context-DPxwjVT1.js";import"./isLastChild-BgvHfb_g.js";const Z=o=>{const{onChange:i,routeKey:s,activeKeys:n,onSetActiveKey:c,direction:m,navigationTree:a,userAuthority:l,mode:h,selectedMenu:d,t:p,...y}=o,{includedRouteTree:r}=O(a,s),f=({key:t,title:u,menu:_,translateKey:b})=>{i({title:u,menu:_,translateKey:b}),c([t])},j=({key:t})=>{i({}),c([t])};k.useEffect(()=>{r.type!==U&&!x(r)&&i({key:r.key,title:r.title,menu:r.subMenu,translateKey:r.translateKey})},[r.key]);const S=n&&n.length>0?n:x(d)?[]:[r.key];return e.jsxs("div",{...y,children:[e.jsx(v,{to:M.authenticatedEntryPath,className:"stacked-mini-nav-header flex items-center justify-center",style:{height:A}}),e.jsx(I,{autoHide:!0,direction:m,children:e.jsx(N,{className:"px-4 pb-4",defaultActiveKeys:S,children:a.map(t=>e.jsx($,{authority:t.authority,userAuthority:l,children:e.jsx("div",{title:p(t.translateKey,t.title),children:t.subMenu&&t.subMenu.length>0?e.jsx(N.MenuItem,{eventKey:t.key,className:"mb-2",onSelect:()=>f({key:t.key,title:t.title,menu:t.subMenu,translateKey:t.translateKey}),children:e.jsx("div",{className:"text-2xl",children:K[t.icon]})}):e.jsx(v,{to:t.path,className:"flex items-center h-full w-full",onClick:()=>j({key:t.key}),children:e.jsx(N.MenuItem,{eventKey:t.key,className:"mb-2",children:e.jsx("div",{className:"text-2xl",children:K[t.icon]})})})})},t.key))})})]})},ee=o=>{const{className:i,title:s,menu:n,routeKey:c,onCollapse:m,direction:a,translationSetup:l,userAuthority:h,...d}=o,p=()=>{m()};return e.jsxs("div",{className:D("h-full",i),...d,children:[e.jsxs("div",{className:"flex items-center justify-between gap-4 pl-6 pr-4",style:{height:A},children:[e.jsx("h5",{className:"font-bold",children:s}),e.jsxs("button",{type:"button",className:"close-button",onClick:p,children:[a===T&&e.jsx(B,{}),a===E&&e.jsx(W,{})]})]}),e.jsx(I,{autoHide:!0,direction:a,children:e.jsx(F,{routeKey:c,navigationTree:n,translationSetup:l,userAuthority:h})})]})},te={width:H},se=({translationSetup:o=M.activeNavTranslation})=>{const{t:i}=P(!o),[s,n]=k.useState({}),[c,m]=k.useState([]),a=g(t=>t.mode),l=g(t=>t.direction),h=R(t=>t.currentRouteKey),d=w(t=>t.user.authority),{larger:p}=C(),y=(t,u)=>`${t}-${u}`,r=t=>{n(t)},f=()=>{n({}),m([])},j=t=>{m(t)},S=()=>{let t={};const u="-270px";return l===T&&(t={marginLeft:u}),l===E&&(t={marginRight:u}),t};return e.jsx(e.Fragment,{children:p.md&&e.jsxs("div",{className:"stacked-side-nav",children:[e.jsx(Z,{className:`stacked-side-nav-mini ${y("stacked-side-nav-mini",a)}`,style:te,routeKey:h,activeKeys:c,mode:a,direction:l,navigationTree:Y,userAuthority:d||[],selectedMenu:s,t:i,onChange:r,onSetActiveKey:j}),e.jsx("div",{className:`stacked-side-nav-secondary ${y("stacked-side-nav-secondary",a)}`,style:{width:L,...x(s)?S():{}},children:!x(s)&&e.jsx(ee,{title:i(s.translateKey,s.title),menu:s.menu,routeKey:h,direction:l,translationSetup:o,userAuthority:d||[],onCollapse:f})})]})})},$e=({children:o})=>{const{larger:i,smaller:s}=C();return e.jsx(X,{type:V,className:"app-layout-stacked-side flex flex-auto flex-col",children:e.jsxs("div",{className:"flex flex-auto min-w-0",children:[i.lg&&e.jsx(se,{}),e.jsxs("div",{className:"flex flex-col flex-auto min-h-screen min-w-0 relative w-full",children:[e.jsx(G,{className:"shadow-sm dark:shadow-2xl",headerStart:e.jsx(e.Fragment,{children:s.lg&&e.jsx(q,{})}),headerEnd:e.jsxs(e.Fragment,{children:[e.jsx(z,{}),e.jsx(Q,{}),e.jsx(J,{hoverable:!1})]})}),e.jsx("div",{className:"h-full flex flex-auto flex-col",children:o})]})]})})};export{$e as default};
